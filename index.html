<!DOCTYPE html>
<html lang="ja">
<head>
    <title>kaede Site</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/jpeg" href="icon.jpg">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <div class="universe">
        <div class="nebula nebula-1"></div>
        <div class="nebula nebula-2"></div>
        <div class="nebula nebula-3"></div>
        
        <div class="planet planet-1"></div>
        <div class="planet planet-2"></div>
        <div class="planet planet-3"></div>
        
        <div class="asteroid asteroid-1"></div>
        <div class="asteroid asteroid-2"></div>
        <div class="asteroid asteroid-3"></div>
        <div class="asteroid asteroid-4"></div>
        <div class="asteroid asteroid-5"></div>
        
        <div class="star star-1"></div>
        <div class="star star-2"></div>
        <div class="star star-3"></div>
        <div class="star star-4"></div>
        <div class="star star-5"></div>
        <div class="star star-6"></div>
        <div class="star star-7"></div>
        <div class="star star-8"></div>
        <div class="star star-9"></div>
        <div class="star star-10"></div>
    </div>
    
    <div class="scroll-indicator">
        <div class="scroll-dot active" data-section="profile"></div>
        <div class="scroll-dot" data-section="skills"></div>
        <div class="scroll-dot" data-section="works"></div>
        <div class="scroll-dot" data-section="Contributions"></div>
        <div class="scroll-dot" data-section="links"></div>
    </div>

    <div class="control-bar" aria-label="display controls">
        <button id="theme-toggle" class="toggle-btn" type="button" aria-label="„ÉÜ„Éº„ÉûÂàáÊõø" data-i18n-aria="themeToggleAria">üåô</button>
        <select id="lang-select" class="lang-select" aria-label="Ë®ÄË™û" data-i18n-aria="langSelectAria">
            <option value="ja">Êó•Êú¨Ë™û</option>
            <option value="en">English</option>
        </select>
    </div>

    <div class="card-container">
        <div class="glass-card profile-card" id="profile">
            <div class="profile-avatar">
                <img src="icon.jpg" alt="Ê•ì„ÅÆ„Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè" class="avatar-image">
            </div>
            <h1 data-i18n="about">About</h1>
            <div class="profile-info">
                <div class="profile-item">
                    <div class="profile-label">
                        <svg class="profile-icon" viewBox="0 0 24 24">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                        <span data-i18n="nameLabel">ÂêçÂâç:</span>
                    </div>
                    <span class="profile-value" data-i18n="nameValue">Ê•ì</span>
                </div>
                <div class="profile-item">
                    <div class="profile-label">
                        <svg class="profile-icon" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        <span data-i18n="ageLabel">Âπ¥ÈΩ¢:</span>
                    </div>
                    <span class="profile-value" data-i18n="ageValue">20Ê≠≥</span>
                </div>
                <div class="profile-item">
                    <div class="profile-label">
                        <svg class="profile-icon" viewBox="0 0 24 24">
                            <path d="M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"/>
                        </svg>
                        <span data-i18n="birthdayLabel">Ë™ïÁîüÊó•:</span>
                    </div>
                    <span class="profile-value" data-i18n="birthdayValue">2005Âπ¥ / 6Êúà30Êó•</span>
                </div>
            </div>
            <p data-i18n="aboutBody">Python„ÅåÂ•Ω„Åç„Åß„Åô</p>
        </div>

        <div class="glass-card skills-card" id="skills">
            <div class="accordion-header" onclick="toggleSkills()">
                <h2 data-i18n="skill">Skill</h2>
                <svg class="accordion-icon" id="skills-icon" viewBox="0 0 24 24">
                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                </svg>
            </div>
            <div class="skills-content" id="skills-content">
                <div class="skills-grid">
                    <div class="skill-item">
                        <span class="skill-name">Python</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 100%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">JavaScript</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 80%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">TypeScript</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 75%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Golang</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 50%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Rust</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 40%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">C</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 20%"></div>
                        </div>
                    </div>
                    <div class="skill-item">
                        <span class="skill-name">Java</span>
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: 10%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="glass-card works-card" id="works">
            <div class="accordion-header" onclick="toggleWorks()">
                <h2 data-i18n="works">Works</h2>
                <svg class="accordion-icon" id="works-icon" viewBox="0 0 24 24">
                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                </svg>
            </div>
            <div class="works-content" id="works-content">
                <div class="works-carousel">
                    <button class="works-nav works-prev" aria-label="Ââç„Å∏">
                        <svg viewBox="0 0 24 24" class="works-nav-icon"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                    </button>
                    <div class="works-viewport">
                        <div class="works-track">
                <div class="work-item">
                    <div class="work-image">
                        <div class="work-placeholder">
                            <svg class="work-icon" viewBox="0 0 24 24">
                                <path d="M14,2H6A2,2 0 0,0 4,4V20A2,2 0 0,0 6,22H18A2,2 0 0,0 20,20V8L14,2M18,20H6V4H13V9H18V20Z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="work-content">
                        <h3 class="work-title">VersaLogrs</h3>
                        <p class="work-description" data-i18n="versalogDescription">ÊüîËªüÊÄß„Å®È´òÊ©üËÉΩ„ÇíËøΩÊ±Ç„Åó„Åü„É≠„Ç¨„Éº„É©„Ç§„Éñ„É©„É™</p>
                        <div class="work-tech">
                            <span class="tech-tag">Rust</span>
                        </div>
                        <div class="work-links">
                            <a href="https://github.com/kaedeek/VersaLog.rs" class="work-link" target="_blank">
                                <svg class="work-link-icon" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                GitHub
                            </a>
                        </div>
                    </div>
                </div>

                <div class="work-item">
                    <div class="work-image">
                        <div class="work-placeholder">
                            <svg class="work-icon" viewBox="0 0 24 24">
                                <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="work-content">
                        <h3 class="work-title">port_scan-go</h3>
                        <p class="work-description" data-i18n="portscanDescription">„Ç∑„É≥„Éó„É´„Å™‰∏¶Ë°åÂá¶ÁêÜÂØæÂøú„ÅÆ„Éù„Éº„Éà„Çπ„Ç≠„É£„Éä„Éº„Åß„Åô„ÄÇ</p>
                        <div class="work-tech">
                            <span class="tech-tag">Golang</span>
                        </div>
                        <div class="work-links">
                            <a href="https://github.com/kaedeek/port_scan-go" class="work-link" target="_blank">
                                <svg class="work-link-icon" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                GitHub
                            </a>
                        </div>
                    </div>
                </div>

                <div class="work-item">
                    <div class="work-image">
                        <div class="work-placeholder">
                            <svg class="work-icon" viewBox="0 0 24 24">
                                <path d="M4 6h16v12H4zM2 4h20v16H2z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="work-content">
                        <h3 class="work-title">TkMR - Task Manager </h3>
                        <p class="work-description" data-i18n="tkmrDescription">ÂêÑ„Éï„Ç©„É´„ÉÄ„ÅÆ„Çø„Çπ„ÇØÁÆ°ÁêÜ„ÇíË°å„ÅÜ Vscode „ÅÆÊã°ÂºµÊ©üËÉΩ„Åß„Åô„ÄÇ</p>
                        <div class="work-tech">
                            <span class="tech-tag">TypeScript</span>
                        </div>
                        <div class="work-links">
                            <a href="https://github.com/kaedeek/TkMR_Task-Manager" class="work-link" target="_blank">
                                <svg class="work-link-icon" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                GitHub
                            </a>
                        </div>
                    </div>
                </div>

                <div class="work-item">
                    <div class="work-image">
                        <div class="work-placeholder">
                            <svg class="work-icon" viewBox="0 0 24 24">
                                <path d="M4 6h16v12H4zM2 4h20v16H2z"/>
                            </svg>
                        </div>
                    </div>
                    <div class="work-content">
                        <h3 class="work-title">Printfxpy </h3>
                        <p class="work-description" data-i18n="printfxpyDescription">Âá∫Âäõ„Åô„ÇãÊñáÂ≠ó„ÅÆËâ≤„ÇíÊåáÂÆö„Åô„Çã„É©„Ç§„Éñ„É©„É™„Åß„Åô„ÄÇ</p>
                        <div class="work-tech">
                            <span class="tech-tag">Python</span>
                        </div>
                        <div class="work-links">
                            <a href="https://github.com/kaedeek/printfxpy" class="work-link" target="_blank">
                                <svg class="work-link-icon" viewBox="0 0 24 24">
                                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                                </svg>
                                GitHub
                            </a>
                        </div>
                    </div>
                </div>

                        </div>
                    </div>
                    <button class="works-nav works-next" aria-label="Ê¨°„Å∏">
                        <svg viewBox="0 0 24 24" class="works-nav-icon"><path d="m10 6-1.41 1.41L13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                    </button>
                </div>
            </div>
        </div>

        <div class="glass-card Contributions-card" id="Contributions">
            <div class="accordion-header" onclick="toggleContributions()">
                <h2 data-i18n="contributions">Contributions</h2>
                <svg class="accordion-icon" id="Contributions-icon" viewBox="0 0 24 24">
                    <path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/>
                </svg>
            </div>
            <div class="Contributions-content" id="Contributions-content">
                <div class="works-carousel">
                    <button class="works-nav works-prev" aria-label="Ââç„Å∏">
                        <svg viewBox="0 0 24 24" class="works-nav-icon"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>
                    </button>
                    <div class="works-viewport">
                        <div class="works-track" id="Contributions-track">
                        </div>
                    </div>
                    <button class="works-nav works-next" aria-label="Ê¨°„Å∏">
                        <svg viewBox="0 0 24 24" class="works-nav-icon"><path d="m10 6-1.41 1.41L13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                    </button>
                </div>
            </div>
        </div>

        <div class="glass-card social-card" id="links">
            <h2 data-i18n="links">Link</h2>
            <div class="social-links">
                <div class="social-row">
                    <a href="https://github.com/kaedeek" class="social-link github-link" target="_blank">
                        <svg class="social-icon" viewBox="0 0 24 24">
                            <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                        </svg>
                        GitHub
                    </a>
                    <a href="https://x.com/bl5ca6ngtfu3pjy" class="social-link x-link" target="_blank">
                        <svg class="social-icon" viewBox="0 0 24 24">
                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                        </svg>
                        X (Twitter)
                    </a>
                </div>
                <div class="social-row">
                    <a href="https://zenn.dev/kaedeek" class="social-link zenn-link" target="_blank">
                        <svg class="social-icon" viewBox="0 0 24 24">
                            <path d="M13.586 0L10.293 3.293 6.586 7H0v2h6.586l3.707 3.707L13.586 16l3.293-3.293L20.586 9H24V7h-3.414l-3.293-3.293L13.586 0z"/>
                        </svg>
                        Zenn
                    </a>
                    <a href="https://qiita.com/kaedeek" class="social-link qiita-link" target="_blank">
                        <svg class="social-icon" viewBox="0 0 24 24">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                        Qiita
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleSkills() {
            const content = document.getElementById('skills-content');
            const icon = document.getElementById('skills-icon');
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        }

        function toggleWorks() {
            const content = document.getElementById('works-content');
            const icon = document.getElementById('works-icon');
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        }

        function toggleContributions() {
            const content = document.getElementById('Contributions-content');
            const icon = document.getElementById('Contributions-icon');
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.style.maxHeight = content.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        }
        document.addEventListener('DOMContentLoaded', function() {
            const skillsContent = document.getElementById('skills-content');
            const skillsIcon = document.getElementById('skills-icon');
            skillsContent.style.maxHeight = skillsContent.scrollHeight + "px";
            skillsIcon.style.transform = 'rotate(180deg)';
            
            const worksContent = document.getElementById('works-content');
            const worksIcon = document.getElementById('works-icon');
            worksContent.style.maxHeight = '0px';
            worksIcon.style.transform = 'rotate(0deg)';
            
            const contributionsContent = document.getElementById('Contributions-content');
            const contributionsIcon = document.getElementById('Contributions-icon');
            contributionsContent.style.maxHeight = '0px';
            contributionsIcon.style.transform = 'rotate(0deg)';

            initScrollIndicator();
            loadOSS();
            initTheme();
            initI18n();
        });

        function initScrollIndicator() {
            const dots = document.querySelectorAll('.scroll-dot');
            const sections = document.querySelectorAll('.glass-card');
            
            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const targetId = dot.getAttribute('data-section');
                    const targetSection = document.getElementById(targetId);
                    if (targetSection) {
                        targetSection.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            window.addEventListener('scroll', () => {
                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 100;
                    const sectionHeight = section.offsetHeight;
                    if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
                        current = section.getAttribute('id');
                    }
                });
                
                dots.forEach(dot => {
                    dot.classList.remove('active');
                    if (dot.getAttribute('data-section') === current) {
                        dot.classList.add('active');
                    }
                });
            });
        }

        document.addEventListener('DOMContentLoaded', function() {
            initWorksCarousel();
            initContributionsCarousel();
        });

        function initWorksCarousel() {
            const track = document.querySelector('.works-track');
            const items = Array.from(document.querySelectorAll('.works-track .work-item'));
            const prevBtn = document.querySelector('.works-prev');
            const nextBtn = document.querySelector('.works-next');
            if (!track || items.length === 0 || !prevBtn || !nextBtn) return;

            let index = 0;
            function getGroupSize() {
                return window.innerWidth < 769 ? 1 : 2;
            }
            let groupSize = getGroupSize();

            function update() {
                const width = document.querySelector('.works-viewport').clientWidth;
                const translateX = -index * width;
                track.style.transform = `translateX(${translateX}px)`;
            }

            function maxIndex() {
                return Math.max(0, Math.ceil(items.length / groupSize) - 1);
            }

            prevBtn.addEventListener('click', () => {
                index = Math.max(0, index - 1);
                update();
            });

            nextBtn.addEventListener('click', () => {
                index = Math.min(maxIndex(), index + 1);
                update();
            });

            window.addEventListener('resize', () => {
                const newGroupSize = getGroupSize();
                if (newGroupSize !== groupSize) {
                    groupSize = newGroupSize;
                    index = Math.min(index, maxIndex());
                }
                update();
            });
            update();
        }

        function initContributionsCarousel() {
            const track = document.getElementById('Contributions-track');
            const prevBtn = document.querySelector('.Contributions-card .works-prev');
            const nextBtn = document.querySelector('.Contributions-card .works-next');
            if (!track || !prevBtn || !nextBtn) return;

            let index = 0;
            let items = [];
            let groupSize = 1;

            function getGroupSize() {
                return window.innerWidth < 769 ? 1 : 2;
            }

            function updateItems() {
                items = Array.from(document.querySelectorAll('#Contributions-track .work-item'));
                groupSize = getGroupSize();
            }

            function update() {
                if (items.length === 0) return;
                const viewport = document.querySelector('.Contributions-card .works-viewport');
                if (!viewport) return;
                const width = viewport.clientWidth;
                const translateX = -index * width;
                track.style.transform = `translateX(${translateX}px)`;
            }

            function maxIndex() {
                return Math.max(0, Math.ceil(items.length / groupSize) - 1);
            }

            prevBtn.addEventListener('click', () => {
                updateItems();
                index = Math.max(0, index - 1);
                update();
            });

            nextBtn.addEventListener('click', () => {
                updateItems();
                index = Math.min(maxIndex(), index + 1);
                update();
            });

            window.addEventListener('resize', () => {
                updateItems();
                const newGroupSize = getGroupSize();
                if (newGroupSize !== groupSize) {
                    groupSize = newGroupSize;
                    index = Math.min(index, maxIndex());
                }
                update();
            });

            const observer = new MutationObserver(() => {
                updateItems();
                update();
            });
            observer.observe(track, { childList: true, subtree: true });
        }

        function applyTheme(theme) {
            const root = document.documentElement;
            if (theme === 'light') {
                root.setAttribute('data-theme', 'light');
            } else {
                root.removeAttribute('data-theme');
            }
            const btn = document.getElementById('theme-toggle');
            if (btn) btn.textContent = theme === 'light' ? 'üåû' : 'üåô';
        }

        function initTheme() {
            const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
            const saved = localStorage.getItem('theme');
            const theme = saved || (prefersLight ? 'light' : 'dark');
            applyTheme(theme);
            const btn = document.getElementById('theme-toggle');
            if (btn) {
                btn.addEventListener('click', () => {
                    const current = document.documentElement.getAttribute('data-theme') === 'light' ? 'light' : 'dark';
                    const next = current === 'light' ? 'dark' : 'light';
                    applyTheme(next);
                    localStorage.setItem('theme', next);
                });
            }
        }

        const I18N_DICT = {
            ja: {
                themeToggleAria: '„ÉÜ„Éº„ÉûÂàáÊõø',
                langSelectAria: 'Ë®ÄË™û',
                about: 'About',
                nameLabel: 'ÂêçÂâç:',
                nameValue: 'Ê•ì',
                ageLabel: 'Âπ¥ÈΩ¢:',
                ageValue: '20Ê≠≥',
                birthdayLabel: 'Ë™ïÁîüÊó•:',
                birthdayValue: '2005Âπ¥ / 6Êúà30Êó•',
                aboutBody: 'Python„ÅåÂ•Ω„Åç„Åß„Åô',
                skill: 'Skill',
                works: 'Works',
                contributions: 'Contributions',
                links: 'Link',
                versalogDescription: 'ÊüîËªüÊÄß„Å®È´òÊ©üËÉΩ„ÇíËøΩÊ±Ç„Åó„Åü„É≠„Ç¨„Éº„É©„Ç§„Éñ„É©„É™',
                portscanDescription: '„Ç∑„É≥„Éó„É´„Å™‰∏¶Ë°åÂá¶ÁêÜÂØæÂøú„ÅÆ„Éù„Éº„Éà„Çπ„Ç≠„É£„Éä„Éº„Åß„Åô„ÄÇ',
                tkmrDescription: 'ÂêÑ„Éï„Ç©„É´„ÉÄ„ÅÆ„Çø„Çπ„ÇØÁÆ°ÁêÜ„ÇíË°å„ÅÜ Vscode „ÅÆÊã°ÂºµÊ©üËÉΩ„Åß„Åô„ÄÇ',
                printfxpyDescription: 'Âá∫Âäõ„Åô„ÇãÊñáÂ≠ó„ÅÆËâ≤„ÇíÊåáÂÆö„Åô„Çã„É©„Ç§„Éñ„É©„É™„Åß„Åô„ÄÇ'
            },
            en: {
                themeToggleAria: 'Toggle theme',
                langSelectAria: 'Language',
                about: 'About',
                nameLabel: 'Name:',
                nameValue: 'Kaede',
                ageLabel: 'Age:',
                ageValue: '20 years old',
                birthdayLabel: 'Birthday:',
                birthdayValue: 'June 30, 2005',
                aboutBody: 'I like Python',
                skill: 'Skill',
                works: 'Works',
                contributions: 'Contributions',
                links: 'Links',
                versalogDescription: 'A flexible and feature-rich logger library',
                portscanDescription: 'A simple concurrent port scanner.',
                tkmrDescription: 'A VSCode extension for task management in each folder.',
                printfxpyDescription: 'A library for specifying the color of output text.'
            }
        };

        function applyI18n(lang) {
            const dict = I18N_DICT[lang] || I18N_DICT.ja;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (dict[key]) el.textContent = dict[key];
            });
            document.querySelectorAll('[data-i18n-aria]').forEach(el => {
                const key = el.getAttribute('data-i18n-aria');
                if (dict[key]) el.setAttribute('aria-label', dict[key]);
            });
        }

        function initI18n() {
            const saved = localStorage.getItem('lang');
            const browser = (navigator.language || 'ja').startsWith('en') ? 'en' : 'ja';
            const lang = saved || browser;
            const select = document.getElementById('lang-select');
            if (select) {
                select.value = lang;
                select.addEventListener('change', () => {
                    const next = select.value;
                    applyI18n(next);
                    localStorage.setItem('lang', next);
                });
            }
            applyI18n(lang);
        }

        async function loadOSS() {
            const track = document.getElementById('Contributions-track');
            if (!track) return;
            try {
                const res = await fetch('https://api.github.com/search/issues?q=author:kaedeek+is:pr+is:merged+-user:kaedeek&sort=updated&order=desc&per_page=10');
                if (!res.ok) throw new Error('GitHub API error');
                const data = await res.json();
                const items = (data.items || []).slice(0, 6);
                if (items.length === 0) {
                    track.innerHTML = '<p class="work-description">Ë°®Á§∫„Åß„Åç„ÇãË≤¢ÁåÆ„Åå„Åæ„Å†„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ</p>';
                    return;
                }
                const toHtml = (item) => {
                    const url = item.html_url;
                    const title = item.title;
                    const closedAt = item.closed_at ? new Date(item.closed_at).toLocaleDateString('ja-JP') : '';
                    const match = url.match(/github\.com\/([^\/]+)\/([^\/]+)\/pull\/(\d+)/);
                    const owner = match ? match[1] : '';
                    const repo = match ? match[2] : '';
                    const number = match ? match[3] : '';
                    return `
                    <div class="work-item">
                        <div class="work-content">
                            <h3 class="work-title">${repo} #${number}</h3>
                            <p class="work-description">${title}${closedAt ? ' / Merged: ' + closedAt : ''}</p>
                            <div class="work-links">
                                <a href="${url}" class="work-link" target="_blank" rel="noopener">
                                    <svg class="work-link-icon" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
                                    PR
                                </a>
                            </div>
                        </div>
                    </div>`;
                };
                track.innerHTML = items.map(toHtml).join('');
                const content = document.getElementById('Contributions-content');
                if (content && content.style.maxHeight) {
                    content.style.maxHeight = content.scrollHeight + 'px';
                }
            } catch (e) {
                track.innerHTML = '<p class="work-description">GitHub„ÅÆÂèñÂæó„Åß„Ç®„É©„Éº„ÅåÁô∫Áîü„Åó„Åæ„Åó„Åü„ÄÇ</p>';
            }
        }
    </script>
</body>
</html>